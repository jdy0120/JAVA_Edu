<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body { background:#000; }
        p { font-family: Tahoma, Arial sans-serif; color: #3f6; font-size: 12px; }
        #top { position: absolute; left: 191px; top: 15px; z-index: 4; }
        #container { position: absolute; left: 0; top: 0; z-index: 0; }
        .lightning { display: none; position: absolute; left: 0; top: 0; z-index: 0; }
        #frame { /* 액자 영역의 스타일 */
            position: absolute; left:100px; top:100px; width: 545px; height: 629px;
            background: url("images/frame.png"); z-index: 3; overflow: hidden;
        }
        #pic_box{ /* 얼굴 영역의 스타일 */
            position: relative; left:91px; top: 84px; width: 367px; height: 460px; z-index: 2; overflow: hidden;
        }
        .face {
            position: relative; left: 0; top: 0; z-index: 1; margin:0;
        }
        #button_right {
            display: flex; flex-direction: column-reverse; position: relative;
        }
    </style>
    <script src="jquery-3.5.1.js"></script>
    <script>
        function lightning_1(t) {
            $("#lightning1").fadeIn(300).fadeOut(250);
            setTimeout(function() {lightning_1(t)},t);
        }
        function lightning_2(t) {
            $("#lightning2").fadeIn("fast").fadeOut("fast");
            setTimeout(function() {lightning_2(t)},t);
        }
        function lightning_3(t) {
            $("#lightning3").fadeIn(300).fadeOut(250);
            setTimeout(function() {lightning_3(t)},t);
        }
        

        $(document).ready(function() {
            var headclix = 0, eyeclix = 0, noseclix = 0, mouthclix = 0;
            // 각각 머리, 눈, 코, 입의 이미지를 클릭한 횟수를 저장할 변수들

            lightning_1(4000);
            lightning_2(5000);
            lightning_3(7000);
            // 번개치는 효과를 담당하는 함수들을 호출

            $("#head_right").click(function() { // 머리 부분을 클릭할 경우 
                if (headclix < 9) {
                    $("#head").animate({ left:"-=367px" },500);
                    headclix++;
                } else {
                    alert("최종 이미지입니다.");
                }
            });
            $("#head_left").click(function() { // 머리 부분을 클릭할 경우 
                if (headclix > 0) {
                    $("#head").animate({ left:"+=367px" },500);
                    headclix--;
                } else {
                    alert("처음 이미지입니다.");
                }
            });
            $("#eyes_right").click(function() { // 눈 부분을 클릭할 경우 
                if (eyeclix < 9) {
                    $("#eyes").animate({ left:"-=367px" },500);
                    eyeclix++;
                } else {
                    alert("최종 이미지입니다.");
                }
            });
            $("#eyes_left").click(function() { // 눈 부분을 클릭할 경우 
                if (eyeclix > 0) {
                    $("#eyes").animate({ left:"+=367px" },500);
                    eyeclix--;
                } else {
                    alert("처음 이미지입니다.");
                }
            });
            $("#nose_right").click(function() { // 코 부분을 클릭할 경우 
                if (noseclix < 9) {
                    $("#nose").animate({ left:"-=367px" },500);
                    noseclix++;
                } else {
                    alert("최종 이미지입니다.");
                }
            });
            $("#nose_left").click(function() { // 코 부분을 클릭할 경우 
                if (noseclix > 0) {
                    $("#nose").animate({ left:"+=367px" },500);
                    noseclix--;
                } else {
                    alert("처음 이미지입니다.");
                }
            });
            $("#mouth_right").click(function() { // 입 부분을 클릭할 경우 
                if (mouthclix < 9) {
                    $("#mouth").animate({ left:"-=367px" },500);
                    mouthclix++;
                } else {
                    alert("최종 이미지입니다.");
                }
            });
            $("#mouth_left").click(function() { // 입 부분을 클릭할 경우 
                if (mouthclix > 0) {
                    $("#mouth").animate({ left:"+=367px" },500);
                    mouthclix--;
                } else {
                    alert("처음 이미지입니다.");
                }
            });
        });
    </script>
</head>
<body>
    <div id="top">
        <img src="images/Monster_Mashup.png" alt="">
        <p>그림을 클릭해서 몬스터의 얼굴을 만드세요.</p>
    </div>
    <div id="container">
        <img src="images/lightning-01.jpg" class="lightning" id="lightning1" alt="">
        <img src="images/lightning-02.jpg" class="lightning" id="lightning2" alt="">
        <img src="images/lightning-03.jpg" class="lightning" id="lightning3" alt="">
        <div id="button_left">
            <button id="head_left">&lt;&lt;</button>
            <button id="eyes_left">&lt;&lt;</button>
            <button id="nose_left">&lt;&lt;</button>
            <button id="mouth_left">&lt;&lt;</button>
        </div>
        <div id="frame">
            <div id="pic_box">
                <img id="head" class="face" src="images/headsstrip.jpg" alt="">
                <img id="eyes" class="face" src="images/eyesstrip.jpg" alt="">
                <img id="nose" class="face" src="images/nosesstrip.jpg" alt="">
                <img id="mouth" class="face" src="images/mouthsstrip.jpg" alt="">               
            </div>
        </div>
        <div id="button_right">
            <button id="head_right">&gt;&gt;</button>
            <button id="eyes_right">&gt;&gt;</button>
            <button id="nose_right">&gt;&gt;</button>
            <button id="mouth_right">&gt;&gt;</button>
        </div>
    </div>
</body>
</html>